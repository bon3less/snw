DROP DATABASE IF EXISTS `portal_db`;
CREATE DATABASE `portal_db`;
USE portal_db;
CREATE TABLE `Bewertung` (  `BID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `BLID` int(10) unsigned NOT NULL,  `BMID` int(10) unsigned NOT NULL,  `BSID` int(10) unsigned NOT NULL,  `datum` int(10) unsigned NOT NULL,  `kategorie` tinyint(3) unsigned NOT NULL,  `b_note` tinyint(1) unsigned NOT NULL,  `Anzahl_Values` tinyint(2) unsigned NOT NULL,  PRIMARY KEY  (`BID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Bewertungs_Msg` (  `BMID` int(10) unsigned NOT NULL auto_increment,  `bewertungs_Text` text NOT NULL,  `status_ueberprueft` tinyint(1) NOT NULL,  `type` tinyint(1) unsigned NOT NULL,  PRIMARY KEY  (`BMID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Fachbereich` (  `UFID` int(10) unsigned NOT NULL auto_increment,  `LID` int(10) unsigned NOT NULL,  `fach_Name` varchar(45) NOT NULL,  PRIMARY KEY  (`UFID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Fotos` (  `FID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `file_Name` varchar(45) NOT NULL,  `pfad_Name` varchar(255) NOT NULL,  `foto_Titel` varchar(255) NOT NULL,  `datum` int(10) unsigned NOT NULL default '0',  `foto_breite` smallint(5) unsigned NOT NULL default '0',  `foto_hoehe` smallint(5) unsigned NOT NULL default '0',  `flag_aktiviert` tinyint(1) NOT NULL default '0',  `flag_ueberprueft` tinyint(1) NOT NULL default '0',  PRIMARY KEY  (`FID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Freunde` (   `Freund_ID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `freund_Name` varchar(14) NOT NULL,  PRIMARY KEY  USING BTREE (`Freund_ID`,`SID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Klassen` (  `Klassen_ID` int(10) unsigned NOT NULL auto_increment,  `Schul_ID` int(10) unsigned NOT NULL,  `SID` int(10) unsigned NOT NULL,  `LID` int(10) unsigned NOT NULL,  `klassen_Name` varchar(12) NOT NULL,  PRIMARY KEY  USING BTREE (`Klassen_ID`),  KEY `FK_Klassen_Schule` USING BTREE (`Schul_ID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Konfiguration` (  `Konfig_ID` int(10) unsigned NOT NULL auto_increment,  `konfig_Titel` varchar(85) NOT NULL,  `konfig_status` tinyint(3) unsigned NOT NULL default '0',  `beschreibung` text NOT NULL,  `letzte_Aenderung` int(10) unsigned NOT NULL default '0',  PRIMARY KEY  (`Konfig_ID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Laender` (  `Land_ID` int(10) unsigned NOT NULL auto_increment,  `land_Name` varchar(60) NOT NULL,  `plz_Format` tinyint(3) unsigned NOT NULL,  PRIMARY KEY  (`Land_ID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=4 ;
INSERT INTO `Laender` (`Land_ID`, `land_Name`, `plz_Format`) VALUES (1, 'Deutschland', 5),(2, 'Österreich', 4),(3, 'Schweiz', 4);
CREATE TABLE `Lehrer` (  `LID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `Klassen_ID` int(10) unsigned NOT NULL,  `UFID` int(10) unsigned NOT NULL,  `Schul_ID` int(10) unsigned NOT NULL,  `lehrer_Name` varchar(45) NOT NULL,  PRIMARY KEY  (`LID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Log` (  `SID` int(10) unsigned NOT NULL auto_increment,  `anmelde_Datum` int(10) unsigned NOT NULL,  `loesch_Datum` int(10) unsigned NOT NULL,  PRIMARY KEY  (`SID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Nachrichten` (  `NID` int(10) unsigned NOT NULL auto_increment,  `prioritaet` tinyint(3) unsigned NOT NULL,  `status` tinyint(3) unsigned NOT NULL,  `sender_SID` int(10) unsigned NOT NULL,  `sender_Name` varchar(45) NOT NULL,  `empfaenger_SID` int(10) unsigned NOT NULL,  `empfaenger_Name` varchar(14) NOT NULL,  `zeit_gesendet` int(10) unsigned NOT NULL,  `zeit_empfangen` int(10) unsigned NOT NULL,  `nachricht` text NOT NULL,  PRIMARY KEY  (`NID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Newsletter` (  `news_ID` int(10) unsigned NOT NULL auto_increment,  `news_Titel` varchar(150) NOT NULL,  `news_inhalt` text NOT NULL,  `datum_erstellt` int(10) unsigned NOT NULL,  `datum_gesendet` int(10) unsigned NOT NULL,  `status` tinyint(3) unsigned NOT NULL,  PRIMARY KEY  (`news_ID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Poll` (  `PID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `BLID` int(10) unsigned NOT NULL,  `BMID` int(10) unsigned NOT NULL,  `BSID` int(10) unsigned NOT NULL,  `datum` int(10) unsigned NOT NULL,  `kategorie` tinyint(3) unsigned NOT NULL,  `ja_nein` varchar(4) NOT NULL,  PRIMARY KEY  (`PID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Schueler` (  `SID` int(10) unsigned NOT NULL auto_increment,  `User_ID` int(10) unsigned NOT NULL,  `LID` int(10) unsigned NOT NULL,  `Klassen_ID` int(10) unsigned NOT NULL,  `Adress_ID` int(10) unsigned NOT NULL,  `Schul_ID` int(10) unsigned NOT NULL,  `nick_Name` varchar(14) NOT NULL,  `email` varchar(255) NOT NULL,  `status` tinyint(3) unsigned NOT NULL,  `geburtstag` varchar(20) default NULL,  `handy_Nr` varchar(20) default NULL,  `icq_Nr` varchar(15) default NULL,  `skype_Nr` varchar(20) default NULL,  `kontakt_Info` text,  `newslettter_Status` tinyint(3) unsigned NOT NULL default '0',  PRIMARY KEY  (`SID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Schueler_Adresse` (  `Adress_ID` int(10) unsigned NOT NULL auto_increment,  `SID` int(10) unsigned NOT NULL,  `Land_ID` int(10) unsigned NOT NULL,  `plz` varchar(5) NOT NULL,  `ort` varchar(60) NOT NULL,  `strasse` varchar(80) NOT NULL,  PRIMARY KEY  (`Adress_ID`) ) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
CREATE TABLE `Schule` (  `Schul_ID` int(10) unsigned NOT NULL auto_increment,  `schul_Name` varchar(45) NOT NULL,  `Land_ID` int(10) unsigned NOT NULL,  `plz` varchar(5) NOT NULL,  `ort` varchar(60) NOT NULL,  PRIMARY KEY  USING BTREE (`Schul_ID`)) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;